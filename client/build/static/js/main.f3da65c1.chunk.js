(this["webpackJsonpflax-2.0"]=this["webpackJsonpflax-2.0"]||[]).push([[0],{17:function(e,t,a){},38:function(e,t,a){e.exports=a(57)},44:function(e,t,a){},49:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(20),c=a.n(s),l=a(10);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(1),o=a(2),u=a(4),m=a(3),h=a(18),p=a(8),d=a.n(p),b=a(12),_=a(7),f=a(14),v=a(34),y=void 0,E=n.a.createContext(),k=E,O={},j=function(e){var t={id:null,name:null,level:1,strain:{name:"",options:{},strainOptions:[]},traitsList:[],minMaxAttributes:{bonus:"",penalty:["",""]},baseAttributeModifiers:{body:0,reflexes:0,perception:0,mind:0,any:0},characterType:{name:"",options:{baseSkills:[],expertSkills:[]}}},a=Object(r.useState)({}),s=Object(f.a)(a,2),c=s[0],l=s[1];function i(e,t){return o.apply(this,arguments)}function o(){return(o=Object(b.a)(d.a.mark((function e(t,a){var r,n,s,i,o,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(v.uuid)(),O[t]=r,C((n=JSON.parse(JSON.stringify(a.baseCharData))).characterType)&&n.traitsList.unshift(a.baseCharData.characterType),s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)},e.next=7,fetch("/api/v1/character/build",s);case 7:return i=e.sent,e.next=10,i.json();case 10:if(o=e.sent,200===i.status){e.next=13;break}throw Error(o.message);case 13:O[t]!==r?console.log("Ignoring results from older API call"):(c[t]||this.initializeEmptyCharacter(t),u=c[t],console.log(o),u.calculatedStats=o,l(Object(_.a)(Object(_.a)({},c),{},{[t]:u})));case 14:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}return n.a.createElement(E.Provider,{value:{characters:c,initializeEmptyCharacter:function(e){var a=e||Object.keys(c).length,r={baseCharData:Object(_.a)({},t),constructedCharData:{}};return l(Object(_.a)(Object(_.a)({},c),{},{[a]:r})),a},setCharacterName:function(e,t){c[e]||y.initializeEmptyCharacter(e);var a=c[e];a.baseCharData.name=t,l(Object(_.a)(Object(_.a)({},c),{},{[e]:a})),i(e,a)},setCharacterLevel:function(e,t){c[e]||y.initializeEmptyCharacter(e);var a=c[e];a.baseCharData.level=t,a.baseCharData.level<1&&(a.baseCharData.level=1),l(Object(_.a)(Object(_.a)({},c),{},{[e]:a})),i(e,a)},setCharacterMinMaxAttributes:function(e,t,a,r){c[e]||y.initializeEmptyCharacter(e);var n=c[e];console.log(e,t,a,r),console.log(n.baseCharData),"bonus"===t?(r||(n.baseCharData.minMaxAttributes.bonus&&n.baseCharData.baseAttributeModifiers[n.baseCharData.minMaxAttributes.bonus]--,n.baseCharData.minMaxAttributes.penalty.map((function(e){return e&&n.baseCharData.baseAttributeModifiers[e]++,null}))),n.baseCharData.baseAttributeModifiers[r]++,n.baseCharData.minMaxAttributes.bonus=r):isNaN(a)||(n.baseCharData.minMaxAttributes.penalty[a]&&n.baseCharData.baseAttributeModifiers[n.baseCharData.minMaxAttributes.penalty[a]]++,n.baseCharData.baseAttributeModifiers[r]--,n.baseCharData.minMaxAttributes.penalty[a]=r),l(Object(_.a)(Object(_.a)({},c),{},{[e]:n})),i(e,n)},setCharacterStrain:function(e,t,a){c[e]||y.initializeEmptyCharacter(e);var r=c[e];r.baseCharData.strain.name=t,r.baseCharData.strain.strainOptions=a,l(Object(_.a)(Object(_.a)({},c),{},{[e]:r})),i(e,r)},setCharacterStrainOption:function(e,t,a){c[e]||y.initializeEmptyCharacter(e);var r=c[e];a?r.baseCharData.strain.options[t]=a:delete r.baseCharData.strain.options[t],l(Object(_.a)(Object(_.a)({},c),{},{[e]:r})),i(e,r)},setCharacterType:function(e,t){c[e]||y.initializeEmptyCharacter(e);var a=c[e],r=a.baseCharData.traitsList.indexOf((function(e){return"Character Type"===e.type}));-1!==r&&a.baseCharData.traitsList.splice(r,1),a.baseCharData.characterType.name=t.name,a.baseCharData.characterType.requirements=t.options||null,l(Object(_.a)(Object(_.a)({},c),{},{[e]:a})),C(a.baseCharData.characterType)&&(l(Object(_.a)(Object(_.a)({},c),{},{[e]:a})),i(e,a))},setCharacterTypeOption:function(e,t,a,r,n,s){c[e]||y.initializeEmptyCharacter(e);var o=c[e],u=o.baseCharData.characterType.options[t][a]?o.baseCharData.characterType.options[t][a]:{name:"",secondarySkills:[]};r&&(u.name=r),(n||0===n)&&(u.secondarySkills[n]=s||""),o.baseCharData.characterType.options[t][a]=u,l(Object(_.a)(Object(_.a)({},c),{},{[e]:o})),C(o.baseCharData.characterType)&&(l(Object(_.a)(Object(_.a)({},c),{},{[e]:o})),i(e,o))},setCharacterTrait:function(e,t,a){c[e]||y.initializeEmptyCharacter(e);var r=c[e];r.baseCharData.traitsList[t]=a,l(Object(_.a)(Object(_.a)({},c),{},{[e]:r})),i(e,r)}}},e.children)};function C(e){var t=e.name,a=e.options,r=e.requirements;if(!t)return!1;if(!r)return!0;if(r.baseSkills){if(r.baseSkills.count!==a.baseSkills.length)return!1;if(!a.baseSkills.every((function(e){return e.secondarySkills.length===r.baseSkills.secondarySkillsEach})))return!1}if(r.expertSkills){if(r.expertSkills.count!==a.expertSkills.length)return!1;if(!a.expertSkills.every((function(e){return e.secondarySkills.length===r.expertSkills.secondarySkillsEach})))return!1}return!0}a(44);var g=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).state={},r}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.value;return this.props.modifier&&(e=e>=0?"+".concat(e):"".concat(e)),n.a.createElement("div",{className:"character_sheet__attribute_box__container"},n.a.createElement("div",{className:"character_sheet__attribute_box__title"},n.a.createElement("h5",null,this.props.name)),n.a.createElement("div",{className:"character_sheet__attribute_box__stat"},n.a.createElement("h4",null,isNaN(e)?n.a.createElement("span",{className:"character_sheet__background_text"},"value"):e)))}}]),a}(r.Component),x=a(35),S=function(e){var t=e.blankSheet,a=e.stats,r=e.target,s=void 0===r?[]:r;if(t)return n.a.createElement("input",{type:"text"});var c,l="",i=0,o=Object(_.a)({},a),u=Object(x.a)(s);try{for(u.s();!(c=u.n()).done;){var m=c.value;if(!o[m]&&isNaN(o[m]))break;++i>=s.length?l=o[m]:o=o[m]}}catch(h){u.e(h)}finally{u.f()}return n.a.createElement("span",{className:"character_sheet__body__group__item__levels__level__boxed__stat"},l)},N=function(e){return console.log(e.name),n.a.createElement("div",{className:"character_sheet__header"},n.a.createElement("span",{className:"character_sheet__header__section"},n.a.createElement("h3",{className:"character_sheet__header__label"},"Name:"),n.a.createElement("h4",null,e.name)),n.a.createElement("span",{className:"character_sheet__header__section"},n.a.createElement("h3",{className:"character_sheet__header__label"},"Level:"),n.a.createElement("h4",null,e.level)))},A=function(e){var t=e.name,a=e.current,r=e.max,s=a?n.a.createElement("span",null,a):n.a.createElement("span",{className:"character_sheet__hidden_text"},"____"),c=r?n.a.createElement("span",null,r):n.a.createElement("span",{className:"character_sheet__hidden_text"},"____");return n.a.createElement("div",{className:"character_sheet__body__group__item__tracker"},n.a.createElement("h5",{className:"character_sheet__body__resource_name"},t),n.a.createElement("div",{className:"character_sheet__body__group__item__stat"},n.a.createElement("h4",{className:"character_sheet__body__group__item__stat__tracker"},s,"/",c)))},D=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).state={},r}return Object(o.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"character_sheet__body__group__item__levels__level character_sheet__body__secondary_skill"},n.a.createElement("h6",null,n.a.createElement("span",{className:"character_sheet__background_text"},"Secondary")),n.a.createElement("input",{type:"text",placeholder:"Rank"}))}}]),a}(r.Component),w=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).state={},r}return Object(o.a)(a,[{key:"render",value:function(){for(var e=[],t=0;t<this.props.secondarySkillCount;t++)e.push(n.a.createElement(D,{key:t}));return n.a.createElement("div",{className:"character_sheet__body__group__item"},n.a.createElement("div",{className:"character_sheet__body__group__item__levels"},n.a.createElement("div",{className:"character_sheet__body__group__item__levels__level character_sheet__body__primary_skill"},n.a.createElement("h5",null,n.a.createElement("span",{className:"character_sheet__background_text"},"Skill Name")),n.a.createElement("input",{type:"text",placeholder:"Rank"})),e))}}]),a}(r.Component),T=function(e){var t=Object(r.useContext)(k),a=e.match.params.charId;if(a&&!t.characters[a])return n.a.createElement("div",null);var s=!a,c=t.characters[a]&&t.characters[a].calculatedStats||{},l=c.otherAttributes&&c.otherAttributes.resistances?Object.keys(c.otherAttributes.resistances).map((function(e){return n.a.createElement("div",{className:"character_sheet__body__group__item__levels__level"},n.a.createElement("h6",null,e.charAt(0).toUpperCase()+e.slice(1)),n.a.createElement(S,{blankSheet:s,stats:c,target:["otherAttributes","resistances",e]}))})):n.a.createElement("span",{className:"character_sheet__body__group__item__levels"},n.a.createElement("div",{className:"character_sheet__body__group__item__levels__level"},n.a.createElement("h6",null,"All Damage"),n.a.createElement("input",{type:"text"})),n.a.createElement("div",{className:"character_sheet__body__group__item__levels__level"},n.a.createElement("h6",null,"Bludgeoning"),n.a.createElement("input",{type:"text"})),n.a.createElement("div",{className:"character_sheet__body__group__item__levels__level"},n.a.createElement("h6",null,"Penetrating"),n.a.createElement("input",{type:"text"})));return n.a.createElement("div",{className:"character_sheet__container"},n.a.createElement(N,{name:c.name,level:c.level}),n.a.createElement("div",{className:"character_sheet__body"},n.a.createElement("div",{className:"character_sheet__body__content"},n.a.createElement("div",{className:"character_sheet__body__group character_sheet__body__group_attributes"},n.a.createElement("div",{className:"character_sheet__body__attributes"},n.a.createElement(g,{name:"body",value:c.primaryAttributes&&c.primaryAttributes.body,modifier:!0}),n.a.createElement(g,{name:"reflexes",value:c.primaryAttributes&&c.primaryAttributes.reflexes,modifier:!0}),n.a.createElement(g,{name:"perception",value:c.primaryAttributes&&c.primaryAttributes.perception,modifier:!0}),n.a.createElement(g,{name:"mind",value:c.primaryAttributes&&c.primaryAttributes.mind,modifier:!0}),n.a.createElement(g,{name:"speed",value:c.otherAttributes&&c.otherAttributes.speed}),n.a.createElement(g,{name:"initiative",value:c.otherAttributes&&c.otherAttributes.initiative}),n.a.createElement(g,{name:"size",value:c.otherAttributes&&c.otherAttributes.size,modifier:!0}),n.a.createElement(g,{name:"reach",value:c.otherAttributes&&c.otherAttributes.reach,modifier:!0}))),n.a.createElement("div",{className:"character_sheet__body__group   character_sheet__body__group_wrap"},n.a.createElement("div",{className:"character_sheet__body__group__item"},n.a.createElement(A,{name:"Defense",current:c.otherAttributes&&c.otherAttributes.defenseCurrent,max:c.otherAttributes&&c.otherAttributes.defenseMax}),n.a.createElement("div",{className:"character_sheet__body__group__item__levels"},n.a.createElement("div",{className:"character_sheet__body__group__item__levels__level"},n.a.createElement("h6",null,"Max Defense"),n.a.createElement(S,{blankSheet:s,stats:c,target:["otherAttributes","defenseMax"]})),n.a.createElement("div",{className:"character_sheet__body__group__item__levels__level"},n.a.createElement("h6",null,"Melee Bonus"),n.a.createElement(S,{blankSheet:s,stats:c,target:["otherAttributes","defenseBonusMelee"]})),n.a.createElement("div",{className:"character_sheet__body__group__item__levels__level"},n.a.createElement("h6",null,"Range Bonus"),n.a.createElement(S,{blankSheet:s,stats:c,target:["otherAttributes","defenseBonusRanged"]})),n.a.createElement("div",{className:"character_sheet__body__group__item__levels__level"},n.a.createElement("h6",null,"Mental Bonus"),n.a.createElement(S,{blankSheet:s,stats:c,target:["otherAttributes","defenseBonusMental"]})),n.a.createElement("div",{className:"character_sheet__body__group__item__levels"},n.a.createElement("div",{className:"character_sheet__body__group__item__levels__level"},n.a.createElement("h6",null,"Armor Value"),n.a.createElement(S,{blankSheet:s,stats:c,target:["otherAttributes","armorValue"]})),n.a.createElement("h5",{className:"character_sheet__body__resource_name_secondary"},"Resistances:"),l))),n.a.createElement(w,{secondarySkillCount:2}),n.a.createElement(w,{secondarySkillCount:2})),n.a.createElement("div",{className:"character_sheet__body__group character_sheet__body__group_wrap"},n.a.createElement("div",{className:"character_sheet__body__group__item"},n.a.createElement("div",{className:"character_sheet__body__group__item__tracker"},n.a.createElement(A,{name:"Stamina",current:c.otherAttributes&&c.otherAttributes.staminaCurrent,max:c.otherAttributes&&c.otherAttributes.staminaMax}),n.a.createElement("div",{className:"character_sheet__body__group__item__levels"},n.a.createElement("div",{className:"character_sheet__body__group__item__levels__level"},n.a.createElement("h6",null,"Max Stamina"),n.a.createElement(S,{blankSheet:s,stats:c,target:["otherAttributes","staminaMax"]}))))),n.a.createElement(w,{secondarySkillCount:3}),n.a.createElement(w,{secondarySkillCount:2}),n.a.createElement(w,{secondarySkillCount:2})),n.a.createElement("div",{className:"character_sheet__body__group character_sheet__body__group_wrap"},n.a.createElement("div",{className:"character_sheet__body__group__item"},n.a.createElement(A,{name:"Wounds",current:c.otherAttributes&&c.otherAttributes.woundsCurrent,max:c.otherAttributes&&c.otherAttributes.woundsMax}),n.a.createElement("div",{className:"character_sheet__body__group__item__levels"},n.a.createElement("div",{className:"character_sheet__body__group__item__levels__level"},n.a.createElement("h6",null,"Wounded"),n.a.createElement("input",{type:"checkbox"})),n.a.createElement("div",{className:"character_sheet__body__group__item__levels__level"},n.a.createElement("h6",null,"Badly Wounded"),n.a.createElement("input",{type:"checkbox"})),n.a.createElement("div",{className:"character_sheet__body__group__item__levels__level"},n.a.createElement("h6",null,"Mortaly Wounded"),n.a.createElement("input",{type:"checkbox"})))),n.a.createElement(w,{secondarySkillCount:3}),n.a.createElement(w,{secondarySkillCount:2}),n.a.createElement(w,{secondarySkillCount:2})))),n.a.createElement("div",{className:"character_sheet__notes"},n.a.createElement("div",{className:"paper"})))},I=(a(17),function(e){var t=Object(r.useContext)(k),a=Object(h.f)().charId;if(!t.characters[a])return n.a.createElement("div",null);return n.a.createElement("div",{className:""},n.a.createElement("h2",null,"Name:",n.a.createElement("input",{style:{marginLeft:"1rem",fontSize:"1.5rem"},placeholder:"My Character",value:t.characters[a].baseCharData.name||"",onChange:function(e){return r=e,void t.setCharacterName(a,r.target.value);var r}})))}),L=function(e){var t=Object(r.useContext)(k),a=Object(h.f)().charId;if(!t.characters[a])return n.a.createElement("div",null);return n.a.createElement("div",{className:""},n.a.createElement("h2",null,"Level:",n.a.createElement("input",{type:"number",style:{marginLeft:"1rem",fontSize:"1.5rem"},placeholder:"My Character",value:t.characters[a].baseCharData.level,onChange:function(e){return r=e,void t.setCharacterLevel(a,r.target.value);var r}})))},M=n.a.createContext(),F=M,P=function(e){var t=Object(r.useState)({}),a=Object(f.a)(t,2),s=a[0],c=a[1],l=function(){var e=Object(b.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/strains");case 2:return t=e.sent,e.next=5,t.json();case 5:if(a=e.sent,200===t.status){e.next=8;break}throw Error(a.message);case 8:c(a.Strains);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){l()}),[]),n.a.createElement(M.Provider,{value:{strains:s}},e.children)},H=function(e){var t=Object(r.useContext)(k),a=Object(r.useContext)(F).strains,s=Object(h.f)().charId;if(!t.characters[s])return n.a.createElement("div",null);var c=Object.keys(a).length?[n.a.createElement("option",{disabled:!0,hidden:!0,style:{display:"none"},value:"",key:"default"},"-- select a strain --")].concat(Object.keys(a).map((function(e){return n.a.createElement("option",{key:e,value:e},a[e].displayName)}))):[],l=t.characters[s].baseCharData.strain.strainOptions&&t.characters[s].baseCharData.strain.strainOptions.length?n.a.createElement("div",{style:{paddingLeft:"2rem"}},t.characters[s].baseCharData.strain.strainOptions.map((function(e,t){return n.a.createElement(B,{displayName:e.displayName,options:e.options,name:e.name,key:t})}))):"";return n.a.createElement("div",{className:""},n.a.createElement("h2",null,"Strain:",n.a.createElement("select",{style:{marginLeft:"1rem",fontSize:"1.5rem"},value:t.characters[s].baseCharData.strain.name||"",onChange:function(e){return function(e){var r=a[e.target.value];t.setCharacterStrain(s,e.target.value,r.options)}(e)}},c)),l)},B=function(e){var t=Object(r.useContext)(k),a=Object(h.f)().charId,s=[n.a.createElement("option",{disabled:!0,hidden:!0,style:{display:"none"},value:"",key:"default"},"-- select an option --")].concat(e.options.map((function(e){return n.a.createElement("option",{value:e.value,key:e.value},e.displayName)})));return n.a.createElement("div",{className:""},n.a.createElement("h4",null,e.displayName,n.a.createElement("select",{style:{marginLeft:"1rem",fontSize:"1.5rem"},value:t.characters[a].baseCharData.strain.options[e.name]||"",onChange:function(r){return n=r,void t.setCharacterStrainOption(a,e.name,n.target.value);var n}},s)))},z=function(e){var t=Object(r.useContext)(k),a=Object(h.f)().charId;if(!t.characters[a])return n.a.createElement("div",null);var s=function(e,r,n){t.setCharacterMinMaxAttributes(a,e,r,n.target.value)},c=n.a.createElement("div",null,n.a.createElement("h4",null,"Bonus Attribute (optional)"),n.a.createElement("select",{style:{marginLeft:"1rem",fontSize:"1.5rem"},value:t.characters[a].baseCharData.minMaxAttributes.bonus||"",onChange:function(e){return s("bonus",null,e)}},n.a.createElement("option",{value:"",key:"default"},"No Attribute Bonus"),n.a.createElement("option",{value:"body",key:"body"},"+1 Body"),n.a.createElement("option",{value:"reflexes",key:"reflexes"},"+1 Reflexes"),n.a.createElement("option",{value:"perception",key:"perception"},"+1 Perception"),n.a.createElement("option",{value:"mind",key:"mind"},"+1 Mind"))),l=[n.a.createElement("option",{disabled:!0,hidden:!0,style:{display:"none"},value:"",key:"default"},"Select one"),n.a.createElement("option",{value:"body",key:"body"},"-1 Body"),n.a.createElement("option",{value:"reflexes",key:"reflexes"},"-1 Reflexes"),n.a.createElement("option",{value:"perception",key:"perception"},"-1 Perception"),n.a.createElement("option",{value:"mind",key:"mind"},"-1 Mind")].filter((function(e){return e.key!==t.characters[a].baseCharData.minMaxAttributes.bonus})),i=t.characters[a].baseCharData.minMaxAttributes.bonus?n.a.createElement("div",null,n.a.createElement("h4",{style:{textAlign:"center"}},"Penalty Attributes"),n.a.createElement("select",{style:{marginLeft:"1rem",fontSize:"1.5rem"},value:t.characters[a].baseCharData.minMaxAttributes.penalty[0]||"",onChange:function(e){return s("penalty",0,e)}},l),n.a.createElement("select",{style:{marginLeft:"1rem",fontSize:"1.5rem"},value:t.characters[a].baseCharData.minMaxAttributes.penalty[1]||"",onChange:function(e){return s("penalty",1,e)}},l)):"";return n.a.createElement("div",{className:"",style:{display:"flex"}},n.a.createElement("div",{style:{display:"flex"}},c,i))},R=a(19),W=n.a.createContext(),q=W,J=function(e){var t=Object(r.useState)({}),a=Object(f.a)(t,2),s=a[0],c=a[1],l=function(){var e=Object(b.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/traits");case 2:return t=e.sent,e.next=5,t.json();case 5:if(a=e.sent,200===t.status){e.next=8;break}throw Error(a.message);case 8:c(a.Traits);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){l()}),[]),n.a.createElement(W.Provider,{value:{traits:s}},e.children)},U=n.a.createContext(),G=U,K=function(e){var t=Object(r.useState)({}),a=Object(f.a)(t,2),s=a[0],c=a[1],l=function(){var e=Object(b.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/skills");case 2:return t=e.sent,e.next=5,t.json();case 5:if(a=e.sent,200===t.status){e.next=8;break}throw Error(a.message);case 8:c(a.Skills);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){l()}),[]),n.a.createElement(U.Provider,{value:{skills:s}},e.children)},V=function(e){var t=Object(r.useContext)(k),a=Object(r.useContext)(G).skills,s=Object(h.f)().charId;if(!t.characters[s])return n.a.createElement("div",null);var c=t.characters[s].baseCharData.characterType.options,l=c[e.level][e.index],i=Object.keys(a).filter((function(t,a){if(c[e.level].map((function(e){return e.name})).filter((function(t,a){return a!==e.index})).includes(t))return!0;if("expertSkills"===e.level&&!c.baseSkills.map((function(e){return e.name})).includes(t))return!0;return!1})),o=Object.keys(a).length?[n.a.createElement("option",{disabled:!0,hidden:!0,style:{display:"none"},value:"",key:"default"},"-- select an option --")].concat(Object.keys(a).filter((function(e){return!i.includes(e)})).map((function(e){return n.a.createElement("option",{key:e,value:e},a[e].displayName)}))):[],u=l&&l.name,m=o.length>1?n.a.createElement("select",{style:{marginLeft:"1rem",fontSize:"1.5rem"},value:u||"",onChange:function(a){return r=a,void t.setCharacterTypeOption(s,e.level,e.index,r.target.value);var r}},o):"",p=e.secondaryCount?n.a.createElement(r.Fragment,null,Object(R.a)(Array(e.secondaryCount)).map((function(t,a){return n.a.createElement(Y,{baseSkill:u,key:a,index:a,level:e.level,baseSkillIndex:e.index})}))):"";return n.a.createElement("div",{className:"",style:{paddingLeft:"2rem"}},n.a.createElement("h4",null,o.length>1?m:n.a.createElement("p",null,"--- Please select at least one ","expertSkills"===e.level?"Base":"Lower Level"," skill ---")),u?n.a.createElement(r.Fragment,null,n.a.createElement("p",null,"Secondary Skill".concat(e.secondaryCount>1?"s":"",":")),p):"")},Y=function(e){var t=Object(r.useContext)(k),a=Object(r.useContext)(G).skills,s=Object(h.f)().charId;if(!t.characters[s])return n.a.createElement("div",null);var c=t.characters[s].baseCharData.characterType.options,l=c[e.level][e.baseSkillIndex],i=Object.keys(a).filter((function(t,a){if(c[e.level].map((function(e){return e.name})).filter((function(t,a){return a!==e.index})).includes(t))return!0;if("expertSkills"===e.level&&!c.baseSkills.map((function(e){return e.name})).includes(t))return!0;return!1})),o=a[e.baseSkill].secondarySkills,u=Object.keys(o).filter((function(t){return!c[e.level][e.baseSkillIndex].secondarySkills.filter((function(t,a){return a!==e.index})).includes(t)})),m=Object.keys(u).length?[n.a.createElement("option",{disabled:!0,hidden:!0,style:{display:"none"},value:"",key:"default"},"-- select an option --")].concat(u.filter((function(e){return!i.includes(e)})).map((function(e){return n.a.createElement("option",{key:e,value:e},o[e].displayName)}))):[],p=l&&l.secondarySkills[e.index];return n.a.createElement("select",{style:{marginLeft:"1rem",fontSize:"1.5rem"},value:p||"",onChange:function(a){return r=a,void t.setCharacterTypeOption(s,e.level,e.baseSkillIndex,null,e.index,r.target.value);var r}},m)},Q=function(e){var t=Object(r.useState)(!0),a=Object(f.a)(t,2),s=a[0],c=a[1],l=Object(r.useContext)(k),i=Object(r.useContext)(q).traits,o=Object(h.f)().charId;if(!l.characters[o])return n.a.createElement("div",null);var u=l.characters[o].baseCharData.characterType.name?i[l.characters[o].baseCharData.characterType.name]:null,m=Object.keys(i).length?[n.a.createElement("option",{disabled:!0,hidden:!0,style:{display:"none"},value:"",key:"default"},"-- select a character type --")].concat(Object.keys(i).filter((function(e){return"Character Type"===i[e].type})).map((function(e){return n.a.createElement("option",{key:e,value:e},i[e].displayName)}))):[],p=u&&u.options.baseSkills?n.a.createElement("div",null,n.a.createElement("h4",{style:{margin:"0 0 0 1rem"}},"Select Base Skills"),n.a.createElement("ul",null,Object(R.a)(Array(u.options.baseSkills.count)).map((function(e,t){return n.a.createElement("li",null,n.a.createElement(V,{level:"baseSkills",key:t,index:t,secondaryCount:u.options.baseSkills.secondarySkillsEach}))})))):"",d=u&&u.options.expertSkills&&u.options.expertSkills.count?n.a.createElement("div",null,n.a.createElement("h4",{style:{margin:"0 0 0 1rem"}},"Select Expert Skills"),n.a.createElement("ul",null,Object(R.a)(Array(u.options.expertSkills.count)).map((function(e,t){return n.a.createElement("li",null,n.a.createElement(V,{level:"expertSkills",key:t,index:t,secondaryCount:u.options.expertSkills.secondarySkillsEach}))})))):"",b=l.characters[o].baseCharData.characterType.name?n.a.createElement("p",{style:{margin:"auto",color:"grey",size:"small"},onClick:function(e){return c(!s)}},"Toggle Skill Picker Display"):"",_=s?n.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",maxWidth:"70rem"}},p,d):"";return n.a.createElement("div",{className:""},n.a.createElement("h2",null,n.a.createElement("span",null,"Character Type:",n.a.createElement("select",{style:{marginLeft:"1rem",fontSize:"1.5rem"},value:l.characters[o].baseCharData.characterType.name||"",onChange:function(e){return function(e){var t={name:e.target.value,options:i[e.target.value].options};l.setCharacterType(o,t)}(e)}},m)),b),_)},$=function(e){var t=Object(r.useState)(!0),a=Object(f.a)(t,2),s=(a[0],a[1],Object(r.useContext)(k)),c=Object(r.useContext)(q).traits,l=Object(h.f)().charId;if(!s.characters[l])return n.a.createElement("div",null);var i=s.characters[l].baseCharData.traitsList[e.index]?c[s.characters[l].baseCharData.traitsList[e.index].name]:null,o=[n.a.createElement("option",{disabled:!0,hidden:!0,style:{display:"none"},value:"",key:"default"},"-- select a trait --")],u=s.characters[l].calculatedStats.availableTraits;i&&!u.some((function(e){return e.id===i.id}))&&o.push(n.a.createElement("option",{value:i.id,key:i.id},i.displayName));var m=Object.keys(c).length?o.concat(u.filter((function(e){return"Character Type"!==c[e.traitId].type&&(!i||c[e.traitId].id!==i.id)})).map((function(e){var t=e.traitId;return n.a.createElement("option",{key:t,value:t},c[t].displayName)}))):[];return n.a.createElement("div",{className:""},n.a.createElement("h3",{style:{display:"flex",justifyContent:"space-between",maxWidth:"80rem"}},m.length>1?n.a.createElement("span",null,n.a.createElement("select",{style:{marginLeft:"1rem",fontSize:"1.5rem"},value:i&&i.id||"",onChange:function(t){return function(t){var a={name:t.target.value,options:c[t.target.value].options};s.setCharacterTrait(l,e.index,a)}(t)}},m)):n.a.createElement("p",null,"No traits available")))},X=function(e){var t=Object(r.useContext)(k),a=Object(h.f)().charId,s=t.characters[a];if(!s||!s.calculatedStats)return n.a.createElement("div",null);var c=s.calculatedStats.traitEntitlements||{},l=Object(R.a)(Array(c.total.allotted)).map((function(e,t){return n.a.createElement($,{key:t,index:t})}));return n.a.createElement("div",null,n.a.createElement("div",{className:"",style:{display:"flex",justifyContent:"space-between",maxWidth:"40rem"}},n.a.createElement("h2",null,"Traits:"),n.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",width:"30rem",alignItems:"center"}},n.a.createElement("h4",null,"Total: ",c.total.consumed,"/",c.total.allotted),n.a.createElement("h4",null,"Heroic: ",c.heroic.consumed,"/",c.heroic.allotted),n.a.createElement("h4",null,"Epic: ",c.epic.consumed,"/",c.epic.allotted))),l)},Z=function(e){var t=Object(r.useContext)(k),a=e.match.params.charId;return Object(r.useEffect)((function(){a&&!t.characters[a]?t.initializeEmptyCharacter(a):e.history.push("/character/createOrEdit/".concat(t.initializeEmptyCharacter()))}),[]),n.a.createElement("div",{className:"character__container"},n.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start",maxWidth:"73rem",flexDirection:"column"}},n.a.createElement(I,null),n.a.createElement(L,null),n.a.createElement(H,null),n.a.createElement(z,null),n.a.createElement(Q,null),n.a.createElement(X,null)),n.a.createElement("div",{style:{padding:"0 0 0 2rem",borderLeft:"2px solid black"}},n.a.createElement(T,e)))},ee=(a(49),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"dataDisplay__title__container"},n.a.createElement("h1",{className:"dataDisplay__title"},this.props.name),n.a.createElement(l.b,{to:this.props.rulesLink,className:"dataDisplay__docLink"},n.a.createElement("h4",null,this.props.name," Rules")))}}]),a}(r.Component)),te=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).state={},r}return Object(o.a)(a,[{key:"changeFilter",value:function(e){var t=e.field;this.props.selectCheckmark(t)}},{key:"shouldBeChecked",value:function(e){var t=this.props.filters;return!!t[this.props.sort]&&!!t[this.props.sort].some((function(t){return t===e}))}},{key:"render",value:function(){var e=this,t=this.props.fields?this.props.fields.filter((function(e){return!!e})).sort():"",a=t?t.map((function(t,a){return n.a.createElement("div",{key:a},n.a.createElement("input",{type:"checkbox",value:t,onChange:function(a){return e.changeFilter({field:t})},checked:e.shouldBeChecked(t)}),t,n.a.createElement("br",null))})):[],r=Math.ceil(a.length/4);r>3&&(r=3);for(var s=Math.ceil(a.length/r),c=[],l=0;l<r;l++)c.push(n.a.createElement("div",{key:l,style:{width:"calc(100% / ".concat(r,")"),minWidth:"fit-content"}},a.splice(0,s)));var i=(10*r+2*r)/2;return n.a.createElement("div",{className:"dataDisplay__filter__checkBox",style:{width:this.props.width,minWidth:"fit-content"}},n.a.createElement("h5",{style:{paddingLeft:"calc(50% - ".concat(i,"rem)")}},this.props.name),n.a.createElement("div",{className:"checkmark__container",style:{paddingLeft:"calc(50% - ".concat(i,"rem)")}},c))}}]),a}(r.Component),ae=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).state={searchedName:"",filters:{}},r}return Object(o.a)(a,[{key:"onChange",value:function(e){var t=this;this.setState({searchedName:e},(function(){return t.props.updateFilters(t.state.searchedName)}))}},{key:"resetFilters",value:function(){var e=this;this.setState({searchedName:"",filters:{}},(function(){e.props.updateFilters(e.state.searchedName),e.props.updateFilters(e.state.filters)}))}},{key:"getFields",value:function(e){var t=this.props.data,a=[];t&&Object.keys(t).forEach((function(r){if(t[r][e]&&t[r][e].length)"string"===typeof t[r][e]&&(t[r][e]=[t[r][e]]),t[r][e].forEach((function(e){-1===a.indexOf(e)&&a.push(e)}));else{if(-1!==a.indexOf("none"))return;a.unshift("none")}}));return a}},{key:"selectCheckmark",value:function(e,t){var a=this,r=this.state.filters;r[t]||(r[t]=[]),-1===r[t].indexOf(e)?r[t].push(e):r[t].splice(r[t].indexOf(e),1),this.setState({filters:r},(function(){return a.props.updateFilters(a.state.filters)}))}},{key:"render",value:function(){var e=this,t=75/this.props.filterableFields.length,a=this.props.filterableFields.map((function(a){return n.a.createElement(te,{width:"".concat(t,"%"),key:a.name,name:a.name,sort:a.sort,fields:e.getFields(a.sort),filters:e.state.filters,selectCheckmark:function(t){return e.selectCheckmark(t,a.sort)}})}));return n.a.createElement("div",{className:"dataDisplay__filter__container"},n.a.createElement("div",{className:"dataDisplay__filter__name",style:{width:"25%"}},n.a.createElement("h5",null,this.props.nameSingular," Name"),n.a.createElement("input",{className:"dataDisplay__filter__name__input",type:"text",placeholder:"placeholder text",value:this.state.searchedName,onChange:function(t){return e.onChange(t.target.value)}}),n.a.createElement("h6",{className:"resetFilters__button",onClick:function(t){return e.resetFilters()}},"Reset All Filters")),a)}}]),a}(r.Component),re=a(26),ne=a(23),se=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).toggleExpanded=function(){r.props.expandInPlace&&r.setState({expanded:!r.state.expanded}),r.props.renderSelected(r.props.name)},r.state={expanded:!1},r}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state.expanded?"expandedListDisplay":"hidden",a=this.state.expanded?ne.a:ne.b,r=this.props.renderedContent?this.props.renderedContent:"<p>".concat(this.props.data.description,"</p>")||!1,s=this.props.fields.map((function(t){var a=e.props.data[t.sort];return Array.isArray(a)&&(a=a.join(" or ")),n.a.createElement("div",{key:t.sort},a)}));return s.unshift(n.a.createElement("div",{key:"displayName"},this.props.data.displayName)),n.a.createElement("div",null,n.a.createElement("li",{className:"dataDisplay__list__table__row dataDisplay__list__item"},s,n.a.createElement("div",{onClick:function(t){return e.toggleExpanded()}},n.a.createElement(re.a,{icon:a}))),n.a.createElement("div",{className:t},n.a.createElement("div",{className:"expandedListContent",dangerouslySetInnerHTML:{__html:r}})))}}]),a}(r.Component),ce=a(9),le=Object(ce.b)("rootStore")(Object(ce.c)(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).state={sortBy:"displayName",sortAssending:!0,displayDocumentation:""},r}return Object(o.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return!0}},{key:"sorter",value:function(e,t){var a=this.props.data,r=a[e][this.state.sortBy].toString();Array.isArray(r)&&(r=r.join(" "));var n=a[t][this.state.sortBy].toString();Array.isArray(n)&&(n=n.join(" "));var s=r?r.toLowerCase():"",c=n?n.toLowerCase():"";if(!this.state.sortAssending){var l=s;s=c,c=l}return s<c?-1:s>c?1:0}},{key:"sortBy",value:function(e){e===this.state.sortBy?this.setState({sortAssending:!this.state.sortAssending}):this.setState({sortBy:e,sortAssending:!0})}},{key:"applyFilters",value:function(e){var t=this;return e.filter((function(e){var a=t.props.data[e],r=t.props.filterFields,n=t.props.filterName.toLowerCase();if(n&&!a.displayName.toLowerCase().includes(n))return!1;var s=function(e){return a[e]&&r[e].length?a[e].some((function(t){return r[e].includes(t)}))?void 0:{v:!1}:"continue"};for(var c in r){var l=s(c);switch(l){case"continue":continue;default:if("object"===typeof l)return l.v}}return!0}))}},{key:"renderSelected",value:function(e){var t="".concat(this.props.documentationExtension).concat(e);this.state.displayDocumentation===t?this.setState({displayDocumentation:""}):this.setState({displayDocumentation:t})}},{key:"renderedDisplay",value:function(){var e=this.props.fields.length>2?"hidden":"placeholderText";return this.state.displayDocumentation?this.props.rootStore.rulesStore.rawDocs[this.state.displayDocumentation]:'<p class="'.concat(e,'">Please select an option from the left to display.</p>')}},{key:"render",value:function(){var e=this,t=[{name:"Name",sort:"displayName"}].concat(this.props.fields).map((function(t){return n.a.createElement("h5",{key:t.name},t.name,n.a.createElement(re.a,{icon:ne.c,className:"sortIcon",onClick:function(a){return e.sortBy(t.sort)}}))})),a=n.a.createElement("div",{className:"dataDisplay__list__table__row dataDisplay__list__header"},t),r="dataDisplay__list__container dataDisplay__list__container__".concat(this.props.fields.length+2);return n.a.createElement("div",{className:r},a,n.a.createElement("div",{className:"dataDisplay__list__content__container"},n.a.createElement("div",null,function(){var t=e.props.data;if(!t)return"No Data Loaded.";var a=Object.keys(t);return(a=e.applyFilters(a)).sort((function(t,a){return e.sorter(t,a)})),(a=a.map((function(a){return n.a.createElement(se,{key:a,name:a,data:t[a],fields:e.props.fields,expandInPlace:e.props.fields.length>1,renderSelected:function(t){return e.renderSelected(t)},renderedContent:e.renderedDisplay()})}))).length?a:n.a.createElement("p",null,"Oh no! It looks like there are no results that match your filter selections.")}()),n.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.renderedDisplay()}})))}}]),a}(r.Component))),ie=Object(ce.b)("rootStore")(Object(ce.c)(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).state={filterName:"",filterFields:{}},r}return Object(o.a)(a,[{key:"updateFilters",value:function(e){"string"===typeof e?this.setState({filterName:e}):this.setState({filterFields:e})}},{key:"render",value:function(){var e=this,t=this.props.hideFilter?"":n.a.createElement(ae,{nameSingular:this.props.nameSingular,namePlural:this.props.namePlural,filterableFields:this.props.filterableFields,data:this.props.data,updateFilters:function(t){return e.updateFilters(t)}});return n.a.createElement("div",{className:"dataDisplay__container"},n.a.createElement(ee,{name:this.props.namePlural,rulesLink:this.props.rulesLink}),t,n.a.createElement(le,{data:this.props.data,fields:this.props.sortableFields,filterName:this.state.filterName,filterFields:this.state.filterFields,documentationExtension:this.props.documentationExtension}))}}]),a}(r.Component))),oe=Object(h.g)(ie),ue=Object(ce.b)("rootStore")(Object(ce.c)(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.rootStore.combatActionsStore.combatActions;return n.a.createElement(oe,{data:e,namePlural:"Combat Action",nameSingular:"Combat Actions",rulesLink:"/rules/combat",sortableFields:[{name:"Action Type",sort:"type"},{name:"Action Point Cost",sort:"actionPointCost"},{name:"Stamina Cost",sort:"staminaCost"}],filterableFields:[{name:"Action Type",sort:"type"}]})}}]),a}(r.Component))),me=(a(52),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"sideBar"},n.a.createElement("div",{style:{marginTop:"50%"}},n.a.createElement("p",null,"Nothing Here Yet,"),n.a.createElement("p",null,"Content Coming Soon.")))}}]),a}(r.Component)),he=Object(ce.b)("rootStore")(Object(ce.c)(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).renderedDoc=function(){var t=e.props.location.pathname.toLowerCase().slice(1);return"/"===t.slice(-1)&&(t=t.slice(0,-1)),e.props.rootStore.rulesStore.rawDocs[t]},e}return Object(o.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"coreRules__Container"},n.a.createElement(me,null),n.a.createElement("div",{className:"coreRules",dangerouslySetInnerHTML:{__html:this.renderedDoc()}}))}}]),a}(r.Component))),pe=Object(h.g)(he),de=(a(53),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).state={},r}return Object(o.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"home"},n.a.createElement("h1",null,"Welcome"),n.a.createElement("p",null,"This page will, with any luck, one day be home to vast stores of information about the world of Flax as I envision it. Still, for now, it's mostly a place for me to make homebrew RPG rules available to my friends, prospective players, and anyone who chances upon it."),n.a.createElement("h3",null,"Join the discord"),n.a.createElement("p",null,"If you're interested in chatting with me or other interested people about the world of Flax or its role-playing system, please feel free to join ",n.a.createElement("a",{href:"https://discord.gg/tG3bNFQ"},"Flax's discord"),"."),n.a.createElement("h3",null,"These rules aren't balanced"),n.a.createElement("p",null,"If you're looking at the rules here, please be aware that this system is very much in the playtest phase of its existence and will have regular updates without warning. Once the system is more stable, I hope to maintain a patch history so anyone using the rules can quickly check for recent updates."),n.a.createElement("h3",null,"Your table, your rules"),n.a.createElement("p",null,"If you happen to be playing with these rules, I encourage you to change, update, expand, or ignore anything printed here to make it work for you. If you do, I'd love to hear all about what worked for you and what didn't. With any luck, we'll update the rules as presented here, making them better together."))}}]),a}(r.Component)),be=Object(ce.b)("rootStore")(Object(ce.c)(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.rootStore.skillChecksStore.skillChecks;return n.a.createElement(oe,{data:e,namePlural:"Skill Checks",nameSingular:"Skill Check",rulesLink:"/rules/skill checks",sortableFields:[{name:"Primary Attribute",sort:"primaryAttribute"},{name:"Primary Skill",sort:"primarySkill"},{name:"Relevant Secondary Skills",sort:"relevantSecondarySkills"}],filterableFields:[{name:"Primary Attribute",sort:"primaryAttribute"},{name:"Primary Skill",sort:"primarySkill"}],documentationExtension:"rules/skill checks/"})}}]),a}(r.Component))),_e=Object(ce.b)("rootStore")(Object(ce.c)(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.rootStore.strainsStore.strains;return n.a.createElement(oe,{data:e,namePlural:"Strains",nameSingular:"Strain",rulesLink:"/rules/strains",sortableFields:[],filterableFields:[],hideFilter:!0,documentationExtension:"rules/strains/"})}}]),a}(r.Component))),fe=Object(ce.b)("rootStore")(Object(ce.c)(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.rootStore.traitsStore.traits;return n.a.createElement(oe,{data:e,namePlural:"Traits",nameSingular:"Trait",rulesLink:"/rules/traits",sortableFields:[{name:"Type",sort:"type"},{name:"Keywords",sort:"keywords"},{name:"Requirements",sort:"requirementsDescription"}],filterableFields:[{name:"Type",sort:"type"},{name:"Keywords",sort:"keywords"}]})}}]),a}(r.Component))),ve=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return n.a.createElement(j,null,n.a.createElement(K,null,n.a.createElement(P,null,n.a.createElement(J,null,n.a.createElement("div",{id:"route-controller"},n.a.createElement(h.c,null,n.a.createElement(h.a,{path:"/rules",component:pe}),n.a.createElement(h.a,{path:"/skill checks",component:be}),n.a.createElement(h.a,{path:"/combat actions",component:ue}),n.a.createElement(h.a,{path:"/strains",component:_e}),n.a.createElement(h.a,{path:"/traits",component:fe}),n.a.createElement(h.a,{path:"/character/sheet/:charId?",component:T}),n.a.createElement(h.a,{path:"/character/createoredit/:charId?",component:Z}),n.a.createElement(h.a,{exact:!0,path:"/",component:de})))))))}}]),a}(r.Component),ye=(a(54),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).state={},r}return Object(o.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"header"},n.a.createElement("h1",{className:"header__title"},n.a.createElement(l.b,{to:"/",className:"header__link"},"Flax")))}}]),a}(r.Component)),Ee=(a(55),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t="/".concat(this.props.target);return n.a.createElement("li",{onMouseOver:function(){return e.props.onHover(e.props.title)},onMouseOut:function(){return e.props.onHover(null)}},n.a.createElement(l.b,{to:t},this.props.title))}}]),a}(r.Component)),ke=Object(ce.b)("rootStore")(Object(ce.c)(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.rootStore.rulesStore.chapterList.length,a=Math.round(t/2),r=[],s=[];return this.props.rootStore.rulesStore.chapterList.forEach((function(t,c){var i="/rules/".concat(t),o=n.a.createElement(l.b,{to:i,key:t,className:"chapterLink hoverableNav",onClick:function(){return e.props.onHover(null)}},t);c<a?r.push(o):s.push(o)})),n.a.createElement("div",{className:"chapterSectionsContainer"},n.a.createElement("div",null,r),n.a.createElement("div",null,s))}}]),a}(r.Component))),Oe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).onClick=function(){console.log("CLicked")},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement(l.b,{to:this.props.link,className:"toolButton hoverableNav",onClick:function(){return e.props.onHover(e.props.title)}},n.a.createElement("h3",null,this.props.name))}}]),a}(r.Component),je=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"rulesToolsContainer"},n.a.createElement(Oe,{onHover:this.props.onHover,name:"Strains",link:"/strains"}),n.a.createElement(Oe,{onHover:this.props.onHover,name:"Traits",link:"/traits"}),n.a.createElement(Oe,{onHover:this.props.onHover,name:"Skill Checks",link:"/skill checks"}),n.a.createElement(Oe,{onHover:this.props.onHover,name:"Combat Actions",link:"/combat actions"}),n.a.createElement(Oe,{onHover:this.props.onHover,name:"Equipment",link:""}),n.a.createElement(Oe,{onHover:this.props.onHover,name:"Arcane Powers",link:""}))}}]),a}(r.Component),Ce=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.hoverDisplay===this.props.title?"extendedNav__container":"hidden";return n.a.createElement("div",{className:t,onMouseOver:function(){return e.props.onHover(e.props.title)},onMouseOut:function(){return e.props.onHover(null)}},n.a.createElement("div",{className:"extendedNav__items__container"},n.a.createElement(ke,{onHover:this.props.onHover}),n.a.createElement(je,{onHover:this.props.onHover})))}}]),a}(r.Component),ge=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={hovering:null,hoverDisplay:null},e.onHover=function(t){e.setState({hovering:t},(function(){t?e.setHoverDisplay():setTimeout((function(){e.setHoverDisplay()}),100)}))},e.setHoverDisplay=function(){e.setState({hoverDisplay:e.state.hovering})},e}return Object(o.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"topNav"},n.a.createElement("ul",{className:"topNav__list"},n.a.createElement(Ee,{title:"Rules",target:"rules",onHover:this.onHover}),n.a.createElement(Ee,{title:"Character Sheet",target:"character/sheet",onHover:this.onHover})),n.a.createElement(Ce,{hoverDisplay:this.state.hoverDisplay,onHover:this.onHover,title:"Rules"}))}}]),a}(r.Component),xe=a(6),Se=Object(xe.f)((function e(t){var a=this;Object(i.a)(this,e),this.rawDocs={},this.chapterList=[],this.test="THIS IS A TEST STRING.",this.callDocumentationAPI=Object(b.a)(d.a.mark((function e(){var t,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/documentation");case 2:return t=e.sent,e.next=5,t.json();case 5:if(r=e.sent,200===t.status){e.next=8;break}throw Error(r.message);case 8:a.rawDocs=r.DOCUMENTATION,a.chapterList=a.parseChapters(r.DOCUMENTATION);case 10:case"end":return e.stop()}}),e)}))),this.parseChapters=function(e){return Object.keys(e).filter((function(e){return 2===e.split("/").length})).map((function(e){return e.split("/")[1].split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")}))},this.rootStore=t,this.callDocumentationAPI()}),{chapterList:xe.k,rawDocs:xe.k,test:xe.k}),Ne=Object(xe.f)((function e(t){var a=this;Object(i.a)(this,e),this.combatActions={},this.callDocumentationAPI=Object(b.a)(d.a.mark((function e(){var t,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/combatactions");case 2:return t=e.sent,e.next=5,t.json();case 5:if(r=e.sent,200===t.status){e.next=8;break}throw Error(r.message);case 8:a.combatActions=r.CombatActions;case 9:case"end":return e.stop()}}),e)}))),this.rootStore=t,this.callDocumentationAPI()}),{combatActions:xe.k}),Ae=Object(xe.f)((function e(t){var a=this;Object(i.a)(this,e),this.skillChecks={},this.callDocumentationAPI=Object(b.a)(d.a.mark((function e(){var t,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/skillChecks");case 2:return t=e.sent,e.next=5,t.json();case 5:if(r=e.sent,200===t.status){e.next=8;break}throw Error(r.message);case 8:a.skillChecks=r.SkillChecks;case 9:case"end":return e.stop()}}),e)}))),this.rootStore=t,this.callDocumentationAPI()}),{skillChecks:xe.k}),De=Object(xe.f)((function e(t){var a=this;Object(i.a)(this,e),this.strains={},this.callDocumentationAPI=Object(b.a)(d.a.mark((function e(){var t,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/strains");case 2:return t=e.sent,e.next=5,t.json();case 5:if(r=e.sent,200===t.status){e.next=8;break}throw Error(r.message);case 8:a.strains=r.Strains;case 9:case"end":return e.stop()}}),e)}))),this.rootStore=t,this.callDocumentationAPI()}),{strains:xe.k}),we=Object(xe.f)((function e(t){var a=this;Object(i.a)(this,e),this.traits={},this.callDocumentationAPI=Object(b.a)(d.a.mark((function e(){var t,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/traits");case 2:return t=e.sent,e.next=5,t.json();case 5:if(r=e.sent,200===t.status){e.next=8;break}throw Error(r.message);case 8:a.traits=r.Traits;case 9:case"end":return e.stop()}}),e)}))),this.rootStore=t,this.callDocumentationAPI()}),{traits:xe.k}),Te=new function e(){Object(i.a)(this,e),this.rulesStore=new Se(this),this.combatActionsStore=new Ne(this),this.skillChecksStore=new Ae(this),this.strainsStore=new De(this),this.traitsStore=new we(this)};a(56);c.a.render(n.a.createElement(ce.a,{rootStore:Te},n.a.createElement(l.a,{basename:"/"},n.a.createElement(ye,null),n.a.createElement(ge,null),n.a.createElement(ve,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[38,1,2]]]);
//# sourceMappingURL=main.f3da65c1.chunk.js.map